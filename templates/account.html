{% extends 'base.html' %}

{% block head %}
<title>My Account</title>

<style>
    #noEdit {
        display: block;
    }
    #editing {
        display: none;
    }
</style>
{% endblock %}

{% block body %}
<h1>Welcome, {{ user.name }}</h1>
<ul id = "noEdit">
    <li>Account Type: {{ user.type }}</li>
    <li>Email: {{ user.email }}</li>
    <li>Address: {{ user.street }}  {{ user.city }}, {{ user.state }} {{ user.zip }}</li>
</ul>

<ul id = "editing">
    <li>THIS IS THE NEW LIST</li>
    <li>Account Type: {{ user.type }}</li>
    <li>Email: {{ user.email }}</li>
    <li>Address: {{ user.street }}  {{ user.city }}, {{ user.state }} {{ user.zip }}</li>
</ul>
<br>
<button onclick = "checkPassword()">update your information</button>

<script>
    function checkPassword() {
        var confirmPass = prompt("Confirm your password");
        if (confirmPass == "{{ user.password }}") {
            var oldList = document.getElementById("noEdit");
            var newList = document.getElementById("editing");

            oldList.style.display = "none";
            newList.style.display = "block";
        }
        else {
            window.alert("incorrect password");
        }
    }
</script>
{% endblock %}